import{b as f,u as y,r,j as e}from"./index-BCJX_-jw.js";import{S as w,A as j}from"./shield-check-BAtEs8Vy.js";import{c as o,A as v}from"./activity-C6MRZFjr.js";const N=o("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const k=o("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);const L=o("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),A=()=>{const l=f(),h=y(t=>t.login),[n,m]=r.useState(""),[d,p]=r.useState(""),[c,u]=r.useState(null),[a,x]=r.useState(!1),b=async t=>{t.preventDefault(),u(null),x(!0);try{const g=await fetch("undefined/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:d})}),s=await g.json();if(!g.ok)throw new Error(s.error||"Login failed");h(s.user,s.token),s.user.role==="ADMIN"||s.user.role==="SUPERVISOR"?l("/admin"):l("/agent")}catch(i){console.error("[Login] Error:",i.message),u(i.message)}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen w-full bg-[#0a0a0c] flex items-center justify-center p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-600/20 rounded-full blur-[120px] -z-10 animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-600/10 rounded-full blur-[120px] -z-10"}),e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-indigo-600 mb-6 shadow-xl shadow-indigo-600/20",children:e.jsx(w,{size:32,className:"text-white"})}),e.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight",children:"Welcome back"}),e.jsx("p",{className:"text-gray-500 mt-2 font-medium",children:"Log in to your dialer account"})]}),e.jsxs("div",{className:"bg-[#0f0f12] border border-white/5 rounded-3xl p-8 shadow-2xl backdrop-blur-md",children:[c&&e.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm flex items-center gap-3 animate-in fade-in shake-1",children:[e.jsx(j,{size:18}),e.jsx("span",{children:c})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx(L,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-indigo-500 transition-colors",size:20}),e.jsx("input",{type:"email",required:!0,value:n,disabled:a,onChange:t=>m(t.target.value),placeholder:"agent@company.com",className:"w-full bg-black/40 border border-white/5 focus:border-indigo-500/50 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl py-4 pl-12 pr-4 text-white outline-none transition-all placeholder:text-gray-700 disabled:opacity-50"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase tracking-widest mb-2 px-1",children:"Password"}),e.jsxs("div",{className:"relative group",children:[e.jsx(N,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-indigo-500 transition-colors",size:20}),e.jsx("input",{type:"password",required:!0,value:d,disabled:a,onChange:t=>p(t.target.value),placeholder:"••••••••",className:"w-full bg-black/40 border border-white/5 focus:border-indigo-500/50 focus:ring-4 focus:ring-indigo-500/10 rounded-2xl py-4 pl-12 pr-4 text-white outline-none transition-all placeholder:text-gray-700 disabled:opacity-50"})]})]}),e.jsx("button",{type:"submit",disabled:a,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-2xl shadow-lg shadow-indigo-600/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:a?e.jsx(v,{size:20,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Enter Dashboard"}),e.jsx(k,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]})]}),e.jsx("p",{className:"text-center text-gray-500 mt-8 text-sm",children:"Protected by Multi-Instance Spinal Security v1.0"})]})]})};export{A as default};
